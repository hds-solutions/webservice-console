this.AgenciaModerna=this.AgenciaModerna||{};(function(c,b,a){c.token=null;c.url=b("#console").attr("action");c.method=null;c.endpoint=null;c.extra=b("#extra");
c.output=b("#raw-output");c.oSuccess=b("#output-success");c.oCode=b("#output-code");c.oError=b("#output-error");c.oResult=b("#output-result");c.init=function(){b("#console").submit(function(){return false;
});b("#endpoint").change(function(){c.method=b(this).find(">option").eq(b(this).val()).attr("method");c.endpoint=b(this).find(">option").eq(b(this).val()).attr("endpoint");
c.extra.removeAttr("class").addClass("form-control");if(b(this).find(">option").eq(b(this).val()).attr("extra")!=="true"){c.extra.addClass("hidden").val("");
}b("#endpoint-tabs>li>a").eq(b(this).val()).tab("show");}).val(0).change();b("#extra").keyup(function(d){if(d.keyCode!==8&&d.keyCode!==9&&d.keyCode!==46&&b(this).val().substr(0,1)!=="/"){b(this).val("/"+b(this).val());
}});b("#pass").keydown(function(d){if((d.keyCode==8||d.keyCode==46)&&b(this).attr("type")=="password"){b(this).val("").attr("type","text");b(".btn-hash.password").fadeIn();
}});b(".btn-hash").each(function(){var d=b(this);d.click(function(){b("#pass").val(CryptoJS.MD5(Base64.encode(b("#pass").val())).toString()).attr("type","password");
d.fadeOut();});});b(".field-wrapper+.crypt").each(function(){var f=b(this),d=f.prev().find(">input"),e=f.find(">button");d.keydown(function(g){if((g.keyCode==8||g.keyCode==46)&&d.prop("crypted")===true){d.val("");
e.fadeIn();d.prop("crypted",false);}});e.click(function(){var i=d.val(),g=e.attr("crypt").split(",");for(var h in g){switch(g[h]){case"md5":i=CryptoJS.MD5(i).toString();
break;case"base64":i=Base64.encode(i);break;default:throw new Error("Unknown crypt option "+g[h]);}}d.val(i).prop("crypted",true);e.fadeOut();});});b("#send").click(function(){a.lock();
c.oSuccess.html("&nbsp;");c.oCode.html("&nbsp;");c.oError.html("&nbsp;");c.oResult.html("&nbsp;");c.output.html("&nbsp;");var e=new Date();var d={method:c.method,url:c.url+"/"+c.endpoint+(c.extra.val()!=""?c.extra.val():""),headers:{Authorization:c.token},complete:function(l){var f=l.responseJSON!==undefined?l.responseJSON:JSON.parse(l.responseText);
c.oSuccess.text(f.success?"true":"false");c.oCode.text(f.code);c.oError.text(f.error);for(var h in f){if(["success","code","error"].indexOf(h)!==-1){continue;
}c.oResult.append('<div class="row"><div class="col-md-2"><kbd>'+h+'</kbd></div><div class="col-md-10"><var id="output-result-'+h+'"></var></div></div>');
if(f[h]!==null&&typeof f[h]==="object"){b("#output-result-"+h).jJsonViewer(f[h]);}else{b("#output-result-"+h).html('<ul class="jjson-container"><li><span class="boolean">'+f[h]+"</span></li></ul>");
}}c.output.text(l.responseText);b("#output-panel").attr("class","panel minheight-150 "+(f.success?"panel-success":"panel-danger"));b("#response-headers").empty();
var j=l.getAllResponseHeaders().split("\n").sort();for(var h in j){if(j[h]==""){continue;}var g=j[h].split(":");if(["Date","Content-Length","Authorization","Content-Type"].indexOf(g[0])<0){continue;
}b("#response-headers").append('<div class="row"><div class="col-md-4"><kbd alt="'+g[0]+'">'+g[0]+'</kbd></div><div class="col-md-8"><var>'+g[1]+"</var></div></div>");
}c.token=l.getResponseHeader("Authorization");if(c.token!==null){c.token=c.token.split(";");c.token=c.token[1]!==undefined?c.token[1]:c.token[0];}b("#token").val(c.token);
e=new Date()-e;var k=Math.floor(e/1000);e-=k*1000;b("#response-headers").append('<div class="row"><div class="col-md-4"><kbd alt="Time">Time</kbd></div><div class="col-md-8"><var>'+k+"s "+e+"ms</var></div></div>");
a.unlock();}};if(c.token===null){delete d.headers;}d.data={};if(c.method!=="GET"){b("#endpoint-params .tab-pane.active textarea").each(function(){d.contentType="application/json";
d.data=JSON.stringify(b(this).val());});}if(d.contentType===undefined){b("#endpoint-params .tab-pane.active input").each(function(){if(b(this).val().toString().length>0){d.data[b(this).attr("id")]=b(this).attr("json")=="true"?JSON.parse(b(this).val()):b(this).val();
}});}b.ajax(d);});delete c.init;};}(AgenciaModerna,jQuery,WholeAuth));jQuery(AgenciaModerna.init);