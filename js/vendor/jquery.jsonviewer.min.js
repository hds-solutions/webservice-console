!function(d){d.fn.jJsonViewer=function(g,h){return this.each(function(){var i=d(this);if(typeof g=="string"){i.data("jjson",g)}else{if(typeof g=="object"){i.data("jjson",JSON.stringify(g))}else{i.data("jjson","")}}new f(i,h)})};function f(g,i){g.html('<ul class="jjson-container"></ul>');try{var j=d.parseJSON(g.data("jjson"));i=d.extend({},this.defaults,i);var h=a(i.expanded);g.find(".jjson-container").append(e([j],h))}catch(k){g.prepend('<div class="jjson-error" >'+k.toString()+" </div>");g.find(".jjson-container").append(g.data("jjson"))}}function a(g){if(!g){return"expanded collapsed hidden"}return"expanded"}function e(j,g){var i="";for(var h in j){if(!j.hasOwnProperty(h)){continue}var l=j[h],k=typeof j[h];i=i+b(h,l,k,g)}return i}function c(g){return d("<div/>").text(g).html()}function b(k,m,l,j){var g="object",i="{",n="}";if(d.isArray(m)){g="array";i="[";n="]"}if(m===null){return'<li><span class="key">"'+c(k)+'": </span><span class="null">"'+c(m)+'"</span></li>'}if(l=="object"){var h='<li><span class="'+j+'"></span><span class="key">"'+c(k)+'": </span> <span class="open">'+i+'</span> <ul class="'+g+'">';h=h+e(m,j);return h+'</ul><span class="close">'+n+"</span></li>"}if(l=="number"||l=="boolean"){return'<li><span class="key">"'+c(k)+'": </span><span class="'+l+'">'+c(m)+"</span></li>"}return'<li><span class="key">"'+c(k)+'": </span><span class="'+l+'">"'+c(m)+'"</span></li>'}d(document).on("click",".jjson-container .expanded",function(g){g.preventDefault();g.stopPropagation();var h=d(this);h.parent().find(">ul").slideUp(100,function(){h.addClass("collapsed")})});d(document).on("click",".jjson-container .expanded.collapsed",function(g){g.preventDefault();g.stopPropagation();var h=d(this);h.removeClass("collapsed").parent().find(">ul").slideDown(100,function(){h.removeClass("collapsed").removeClass("hidden")})});f.prototype.defaults={expanded:true}}(window.jQuery);